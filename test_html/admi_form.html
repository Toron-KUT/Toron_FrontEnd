<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>管理者用店舗管理ページ</title>
    <script type="text/javascript">

    var count_cord = 1;//グローバル変数（危ないやつ）
    //テーブルに追加する
    function creatTable (){
      // 表の作成開始
if(count_col != 1){
      var table = document.getElementById("table");
      var tenpo_name = document.getElementById ("tenpo_name").value;
      var cellphone = document.getElementById ("cellphone").value;
      var address = document.getElementById ("address").value;
      var tentyouName = document.getElementById ("tentyouName").value;
      if ((tenpo_name.value || cellphone.value || address.value || tentyouName.value) == null) {
        alert("空欄があります");
      } else {
      var data = [count_cord, tenpo_name, cellphone, address, tentyouName];
      // 表に2次元配列の要素を格納
      table.style.border ="1px solid";         //枠
        var rows = table.insertRow(-1);        // 新しい行の追加//-1で下に追加する
          for(j = 0; j < 5; j++){
            var  cell=rows.insertCell(-1);    //列
              cellNode = document.createTextNode(data[j]);
              cell.appendChild(cellNode);     //データノードの作成、ノードの連結
              cell.style.border ="1px solid"; //枠
          }
          count_cord++;
        }
      }
    }
    var count_col=0;
    function deleteTable() {
      count_col +=1;
      if(count_col ==1){


      var table = document.getElementById("table");
      var rows = table.rows.length;


      //
      for (var i = 0; i < rows; i ++) {
        if(i == 0)continue;
        var cell = table.rows[i].insertCell(-1);

    //  alert();
//cell.innerHTML ="削除";
       var newButton2 = document.createElement("BUTTON");
       newButton2.textContent="削除";
       cell.appendChild(newButton2);
      }
      var newButton = document.createElement("BUTTON");
      newButton.textContent="編集終了";
      document.getElementById("table").appendChild(newButton);
}

    }
    </script>
  </head>
  <body>
  <h5>新規店舗登録フォーム</h5>
    <form><!--入力フォーム-->
      <div><!--かたまりみたいな-->
      <!--空白ちゃんと考えて空けてるから消さないでね-->
        店舗名　　:
        <input id="tenpo_name" name="tenpo_name" type="text" size="30">
        　電話番号　　:
        <input id ="cellphone" name="cellphone" type="text" size="15"><br>
        店舗住所　:
        <input id ="address" name="address" type="text" size="30">
        　店長の名前　:
        <input id ="tentyouName" name="tentyouName" type="text" size="15">
  　      　  <input name="button" type="button" value="登録" onClick="creatTable()">
      </div>
    </form>
    <h5>登録された店舗</h5>
    <input name="delete" type="button" value="登録情報編集" onClick="deleteTable()">
    <br><br>
    <table border="1" id = "table">
      <tr>
        <th>店舗コード</th><th>店舗名</th><th>電話番号</th><th>店舗住所</th><th>店長の名前</th>
      </tr>
    </table>
  </body>
</html>
